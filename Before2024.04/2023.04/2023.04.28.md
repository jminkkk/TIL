# 스레드풀과 Future 인터페이스
> [스레드 풀 참고 링크](https://www.baeldung.com/thread-pool-java-and-guava)
> 
> [Future 인터페이스 참고 링크](https://wildeveloperetrain.tistory.com/141)
- Java에서 스레드는 운영 체제의 리소스인 시스템 수준 스레드에 매핑
- 운영 체제는 병렬 처리를 에뮬레이트하기 위해 스레드 간 컨텍스트 전환도 실행
    - 간단히 말해, 더 많은 스레드를 생성할수록 각 스레드가 실제 작업을 수행하는 데 소요되는 시간이 줄어든다는 것

### 스레드 풀

- 멀티스레드 애플리케이션에서 리소스를 절약하고 미리 정의된 특정 한도 내에서 병렬 처리를 억제하는 데 도움
- 스레드 풀을 사용할 때는, 동시 코드를 병렬 작업의 형태로 작성하고 실행을 위해 스레드 풀의 인스턴스에 제출
    - 이 인스턴스는 이러한 작업을 실행하기 위해 재사용되는 여러 스레드를 제어

## Future 인터페이스

비동기 처리가 완료되었는지 확인 후 처리 완료를 기다리고, 처리 결과를 반환하는 메서드를 제공

- Future 객체는 작업이 완료될 때까지 기다렸다가 최종 결과를 얻는 데 사용함
- Future를 이용하면 멀티 스레드 환경에서 처리된 어떤 데이터를 다른 스레드에 전달 가능

```java
Future<?> submit(Runnable task);
```

### 주요 메서드

- **get()**
    - 작업된 결과를 가지고 오는 메서드
    - 만약 결과가 아직 리턴되지 않았다면 결과가 나올 때까지 기다림
        - 이때 중요한 점은 결과가 반환되기 전까지 애플리케이션의 진행을 'block' 한다는 것
- **isDone(), isCancelled()**
    - 현재 작업(Task)의 상태를 알 수 있으며, 일반적으로 get()과 isDone(), cancel()과 isCancelled()를 짝지어서 사용
    - isDone() 메서드의 경우,
        - 해당 Task가 완료되었을 경우에 true를 반환
        - 여기서 말하는 완료에는 정상적인 동작 완료, 예외, 취소 등이 있고, 해당되는 모든 경우 true를 반환
    - isCancelled() 메서드의 경우.
        - 해당 Task가 정상적으로 완료되기 전에 삭제된 경우 true를 반환
- **cancel()**
    - 현재 작업(Task)의 중단을 시도하는 메서드
        - 하지만 Task가 이미 완료되었다면 cancel() 메서드는 동작하지 X
    - parameter로 true를 전달하면 현재 진행 중인 스레드를 i**nterrupt** 하고, 그렇지 않으면 현재 진행 중인 작업이 끝날 때까지 기다림
        - Task의 동작을 취소했으면 true, 취소하지 못했다면 false를 리턴