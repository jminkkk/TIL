# JPQL 쿼리문
> 자바 ORM 표준 JPA 프로그래밍을 보고 정리하였습니다.
+ JPQL은 엔티티 객체를 조회하는 객체지향 쿼리이다.
  + 엔티티 객체를 대상으로 쿼리한다.
+ JPQL은 SQL을 추상화해서 특정 데이터베이스에 의존하지 않는다.
+ JPQL은 결국 SQL로 변환된다.

## new 명령어
SELECT 다음에 new 명령어를 사용해 반환받을 클래스를 지정할 수 있고 이 클래스의 생성자에 조회한 데이터들을 넘겨줄 수 있다.
### new 명령어 사용 시 주의점
+ 패키지 명을 포함한 전체 클래스명 입력해야한다
+ 순서와 타입이 일치하는 생성자가 필요하다

## 페치 조인
페지 조인은 SQL에서 얘기하는 조인의 종류가 아닌 JPQL에서 성능 최적화를 위해 제공하는 기능으로
+ 연관된 엔티티나 컬렉션을 한번에 같이 조회하는 기능
```
페치조언 :: = [ LEFT [OUTER] | INNER ] JOIN FETCH 조인 경로
```

## 조건식
+ IN식
  ```
  X [NOT] IN (예제)
  ```
  + X와 같은 값이 예제에 하나라도 있으면 참
### CASE 식
+ 기본 CASE
  ```
  CASE 
        {WHEN <조건식> THEN <스칼라식>} + 
        ELSE <스칼라식>
  END
  ```
+ 심플 CASE
  ```
  CASE <조건식>
        {WHEN <스칼라식1> THEN <스칼라식2>} + 
        ELSE <스칼라식>
  END
  ```
+ COALESCE
  + 스칼라식을 차례대로 하나씩 조회해서 null이 아니면 반환
+ NULLIF
  + 두 값이 같으면 null 반환, 다르면 첫번째 값 반환
