# 카테캠 2단계 및 클론코딩
## 강의 시작 전
### 테스트 코드를 짜야 하는 이유
프론트(React.js)는 3000번 포트 사용하고 백엔드(Spring Rest API)는 대게 8080번(또는 80번) 포트 사용하며, 배포를 하기전 프론트의 레퍼런스 코드를 실행할 수 있도록 주소요청 테스트를 연결하여 실행하게 된다.

더 자세히 말하자면, 아래의 클론코딩 전반적인 과정에 따라 우리는 도커 기술로 제작되어 있는 카카오 크램폴린의 가상화 컴퓨터를 사용한다. 그런 후 D2Hub를 통해 빌드하고 jar파일을 kargo에 배포하게 되는데,

**우리가 배포한 jar 파일 속 코드들이 배포된 환경에서 잘 돌아간다고 확신할 수 없기에 테스트 코드를 작성해야 하는 것이다.**

## 최종적으로 클론코딩에서 진행하는 과정
2단계의 6주차에 걸친 기간동안 진행하게 될 '카카오 쇼핑하기'의 클론코딩의 과정이다.

로컬에서 개발
개인 깃허브에 업로드
테스트 진행 (테스트 코드 + Postman)
크램폴린 IDE를 통해 코드 다운 및 개발 진행
개인 깃허브에 업로드
D2Hub를 통해 코드 다운
빌드 진행
jar 파일 생성
jar 파일을 kargo를 통해 배포 ( -> 여기서 서버가 잘 실행될지를 모르겠기 때문에 테스트 해야함

---
## 1. DTO 객체의 필요성
프론트가 편하게, 최대한 바로 사용할 수 있게 json을 제공하는 것이 좋은데, 때문에 DTO 객체가 탄생되게 되었다.

Response의 Body가 통일되지 않는다면 프톤트에서 공통된 처리를 하기가 힘들 수 있다.


또한, dto에는 해당 화면에 뿌려줄 값들을 바로 뿌릴 수 있도록 구성해야 한다. 

## 2. JWT
로그인 시에 JWT를 사용할 수 있는데 보통 JWT는 요청 시 Authorization 헤더에 포함하여 통신하게 된다.

하지만 사실 JWT는 쉽게 Decode가 바로 가능하며, 때문에 JWT는 보안을 위한 것이 아닌, 신뢰성을 위한 것이라고 생각해도 좋다.

 

## 3. 백엔드 개발자 원칙
클라이언트의 데이터는 신뢰 불가능하다.

즉, 백엔드 개발자는 클라이언트로부터 받은 데이터를 의심하고 봐야한다. (= 신뢰하지 않는다.)

그렇다면 언제 신뢰가 가능할까?

클라이언트로부터 받은 데이터를 신뢰하려면 검증을 해야한다.

 

## 4. PK를 포함하자
프론트와 통신하기 위한 객체 즉, dto에는 해당 화면에 뿌려줄 값들을 바로 뿌릴 수 있도록 구성해야 하지만 id 값의 경우에는 화면에 나오지 않더라도 반드시 모든 dto에 포함하여야 한다.

 

그 이유는?
내가 생각하기에는 예시로 특정 게시물이나, 제품 등을 조회할 때
프론트 측에서 {id} 인 Query Parameter 등으로 요청을 보내기 때문에 포함하여야 한다고 생각한다. 그렇다면 프톤트 측에서 조회 등을 요청할 정보의 id 값을 알고 있어야 조회가 가능할 것 같은데 이 값들을 저장을 하는 것인지 아니면 다른 방법을 이용하는지... 궁금한데 이 부분에 대해서는 질의응답 후 수정하도록 하겠다!


