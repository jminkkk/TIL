# 멀티프로세스, 스레드와 멀티스레딩
> [참고](https://velog.io/@vpdls1511/%EB%A9%80%ED%8B%B0-%EC%8A%A4%EB%A0%88%EB%93%9C%EC%99%80-%EB%A9%80%ED%8B%B0-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4)

**프로세스는** 운영체제로부터 자원을 할당받는 **작업의 단위**이고 

**스레드는** 프로세스가 할당받은 자원을 이용하는 **실행의 단위**이다.

## 멀티프로세스

- **프로세스**
    - 프로세서(CPU)에 의해서 실행되는 프로그램

### 정의

- 두개 이상 **다수의 프로세서가** 협력적으로 하나 이상의 작업을 **동시에 처리하는 것**
- 하나의 프로그램을 여러 프로세스로 구성하여 **각 프로세스가 병렬로 작업을** 수행
- 각 프로세스 간 메모리 구분이 필요하거나 **독립된 주소 공간을 가져야 할 경우 사용**

### 장점

메모리 침범 문제를 OS 차원에서 해결하게 된다.

### 단점

- 각 프로세스가 독립적 메모리 영역을 가지기 때문에 작업량이 많아지면 오버헤드 발생 가능성
- 프로세스 사이에서 공유할 자원이 있다면 프로세스 간 통신 메커니즘(IPC)이 필요

## 멀티 스레드

### 정의

- 하나의 프로세스 안에서 여러개의 스레드가 존재하는것을 멀티 스레드

### 장점

- 프로세스 내 자원들과 메모리를 공유하기 때문에 메모리 공간과 시스템 자원의 소모가 적음
- **스레드 간 통신 시에도 쉽게 데이터를** 주고 받을 수 있으며,
    - 스레드의 컨텍스트 스위치는 캐시 메모리를 비우고 채울 필요가 없기에 더욱 빠름
- 병렬성의 증가로 스레드가 중단되거나 긴 작업을 진행을 하더라도
    - 한 스레드의 작업이 오래 걸리더라도 작업은 끊기지 않고 계속해서 실행
    - 멀티 스레드 모델은 에러 발생 시 **새로운 스레드를 생성하여 극복**

## 단점

- 컨텍스트 스위칭, 동기화 등의 이유로 싱글 코어 멀티 스레딩은 스레드 생성기간이 오히려 오버헤드로 작용해 단일 스레드보다 느릴 수 있다.
- 공유하는 자원에 동시에 접근하는 경우,
    - 프로세스와는 달리 **스레드는 데이터와 힙 영역을 공유하기** 때문에
    - 어떤 스레드가 다른 스레드에서 사용중인 변수나 자료구조에 접근하여 **엉뚱한 값을** 읽어오거나 수정할 수 있다.
- **운영체제의 지원이 있어야** 멀티스레딩이 가능하다.
